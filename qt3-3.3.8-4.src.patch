diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/config.tests/unix/checkavail src/qt-x11-free-3.3.8/config.tests/unix/checkavail
--- origsrc/qt-x11-free-3.3.8/config.tests/unix/checkavail	2003-05-27 10:19:12.000000000 -0500
+++ src/qt-x11-free-3.3.8/config.tests/unix/checkavail	2007-10-28 22:15:48.250000000 -0500
@@ -9,9 +9,9 @@
 MODULE_NAME=$1
 VERBOSE=$2
 shift 2
-LIBDIRS="/lib /usr/lib"
+LIBDIRS="/lib /usr/lib /usr/lib/w32api"
 LIBNAMES=""
-INCLUDEDIRS="/usr/include"
+INCLUDEDIRS="/usr/include /usr/include/w32api"
 INCLUDES=""
 
 PARAMS=$@
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/config.tests/x11/xfreetype.test src/qt-x11-free-3.3.8/config.tests/x11/xfreetype.test
--- origsrc/qt-x11-free-3.3.8/config.tests/x11/xfreetype.test	2004-08-09 15:16:57.000000000 -0500
+++ src/qt-x11-free-3.3.8/config.tests/x11/xfreetype.test	2007-10-28 22:15:48.250000000 -0500
@@ -41,7 +41,7 @@
 LIBS="Xft2 Xft"
 for LIB in $LIBS; do
     for LIBDIR in $LIBDIRS; do
-	EXTENSIONS="a so sl"
+	EXTENSIONS="a dll.a so sl"
 	for E in $EXTENSIONS; do
 	    if [ -f "$LIBDIR/lib$LIB.$E" ]; then
 		F="$LIB"
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/configure src/qt-x11-free-3.3.8/configure
--- origsrc/qt-x11-free-3.3.8/configure	2007-01-15 06:41:50.000000000 -0600
+++ src/qt-x11-free-3.3.8/configure	2007-10-28 22:15:48.265625000 -0500
@@ -1623,7 +1623,7 @@
     MYSQL_REQ="-lmysqlclient mysql.h"
     OCI_REQ="-lclntsh -lwtc8 oci.h"
     PSQL_REQ="-lpq postgres.h libpq/libpq-fs.h catalog/pg_type.h libpq-fe.h"
-    ODBC_REQ="-lodbc sql.h sqlext.h"
+    ODBC_REQ="-lodbc32 sql.h sqlext.h"
     TDS_REQ="-lsybdb sybfront.h sybdb.h"
     DB2_REQ="-ldb2 sqlcli.h sqlcli1.h"
     IBASE_REQ="-lgds ibase.h"
@@ -2396,7 +2396,7 @@
 	else
 	    echo "Do you accept the terms of $affix license? \c"
 	fi
-	read acceptance
+	acceptance=yes
 	echo
 	if [ "$acceptance" = "yes" ]; then
 	    break
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/mkspecs/cygwin-g++/qmake.conf src/qt-x11-free-3.3.8/mkspecs/cygwin-g++/qmake.conf
--- origsrc/qt-x11-free-3.3.8/mkspecs/cygwin-g++/qmake.conf	2007-02-02 08:01:44.000000000 -0600
+++ src/qt-x11-free-3.3.8/mkspecs/cygwin-g++/qmake.conf	2007-10-29 06:38:36.734375000 -0500
@@ -22,7 +22,7 @@
 QMAKE_CFLAGS_WARN_OFF	= -w
 QMAKE_CFLAGS_RELEASE	= -O2
 QMAKE_CFLAGS_DEBUG	= -g
-QMAKE_CFLAGS_SHLIB	=
+QMAKE_CFLAGS_SHLIB	= -DPIC -DDLL_EXPORT
 QMAKE_CFLAGS_YACC	= -Wno-unused -Wno-parentheses
 QMAKE_CFLAGS_THREAD	= -D_REENTRANT
 
@@ -39,28 +39,28 @@
 
 QMAKE_INCDIR		=
 QMAKE_LIBDIR		=
-QMAKE_INCDIR_X11	= /usr/X11R6/include
-QMAKE_LIBDIR_X11	= /usr/X11R6/lib
-QMAKE_INCDIR_QT		= $(QTDIR)/include
-QMAKE_LIBDIR_QT		= $(QTDIR)/lib
-QMAKE_INCDIR_OPENGL	= /usr/X11R6/include
-QMAKE_LIBDIR_OPENGL	= /usr/X11R6/lib
+QMAKE_INCDIR_X11	=
+QMAKE_LIBDIR_X11	=
+QMAKE_INCDIR_QT		= /usr/include/qt3
+QMAKE_LIBDIR_QT		= /usr/lib/qt3/lib
+QMAKE_INCDIR_OPENGL	=
+QMAKE_LIBDIR_OPENGL	=
 
 QMAKE_LINK		= g++
 QMAKE_LINK_SHLIB	= g++
-QMAKE_LFLAGS		=
+QMAKE_LFLAGS		= -Wl,--enable-auto-import
 QMAKE_LFLAGS_RELEASE	=
 QMAKE_LFLAGS_DEBUG	=
-QMAKE_LFLAGS_SHLIB	= -shared
+QMAKE_LFLAGS_SHLIB	= -shared -Wl,--enable-auto-image-base
 QMAKE_LFLAGS_PLUGIN	= $$QMAKE_LFLAGS_SHLIB
-QMAKE_LFLAGS_SONAME	= -Wl,-soname,
+QMAKE_LFLAGS_SONAME	= 
 QMAKE_LFLAGS_THREAD	=
-QMAKE_RPATH		= -Wl,-rpath,
+QMAKE_RPATH		= 
 QMAKE_CYGWIN_SHLIB	= 1
 QMAKE_CYGWIN_EXE	= 1
  
 QMAKE_LIBS		=
-QMAKE_LIBS_DYNLOAD	= -ldl
+QMAKE_LIBS_DYNLOAD	= 
 QMAKE_LIBS_X11		= -lXext -lX11
 QMAKE_LIBS_X11SM	= -lSM -lICE
 QMAKE_LIBS_QT		= -lqt
@@ -69,11 +69,11 @@
 QMAKE_LIBS_OPENGL_QT	= -lGL -lXmu
 QMAKE_LIBS_THREAD	= -lpthread
 
-QMAKE_MOC		= $(QTDIR)/bin/moc
-QMAKE_UIC		= $(QTDIR)/bin/uic
+QMAKE_MOC		= /usr/lib/qt3/bin/moc
+QMAKE_UIC		= /usr/lib/qt3/bin/uic -nounload
 
 QMAKE_AR		= ar cqs
-QMAKE_RANLIB		=
+QMAKE_RANLIB		= ranlib
 
 QMAKE_TAR		= tar -cf
 QMAKE_GZIP		= gzip -9f
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/mkspecs/cygwin-g++/qplatformdefs.h src/qt-x11-free-3.3.8/mkspecs/cygwin-g++/qplatformdefs.h
--- origsrc/qt-x11-free-3.3.8/mkspecs/cygwin-g++/qplatformdefs.h	2003-05-27 10:19:20.000000000 -0500
+++ src/qt-x11-free-3.3.8/mkspecs/cygwin-g++/qplatformdefs.h	2007-10-28 22:15:48.281250000 -0500
@@ -42,24 +42,16 @@
 
 #include <sys/types.h>
 #include <sys/ioctl.h>
-// Cygwin does not provide <sys/ipc.h> and <sys/shm.h> because it
-// doesn't support SysV IPC or shared memory. See for example:
-// 	http://afni.nimh.nih.gov/afni/afniboard/messages/1725.html
+#include <sys/ipc.h>
 #include <sys/time.h>
+#include <sys/shm.h>
 #include <sys/socket.h>
 #include <sys/stat.h>
 #include <sys/wait.h>
-#include <windows.h>
 
-// Resolver functions are not implemented in Cygwin, headers
-// <arpa/nameser.h> and <resolv.h> are missing:
-// 	http://cygwin.com//cgi-bin/cygwin-todo.cgi?20000426.105252
-// Maybe bindlib_w32
-// 	http://www.php.net/extra/bindlib_w32.zip
-// or Don Berstein's djbdns:
-// 	http://cr.yp.to/djbdns.html
-// provide this functionality, but not necessarily under the Cygwin license...
 #include <netinet/in.h>
+#include <arpa/nameser.h>
+#include <resolv.h>
 
 
 #if !defined(QT_NO_COMPAT)
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/plugins/src/sqldrivers/odbc/odbc.pro src/qt-x11-free-3.3.8/plugins/src/sqldrivers/odbc/odbc.pro
--- origsrc/qt-x11-free-3.3.8/plugins/src/sqldrivers/odbc/odbc.pro	2003-12-08 06:29:45.000000000 -0600
+++ src/qt-x11-free-3.3.8/plugins/src/sqldrivers/odbc/odbc.pro	2007-10-28 22:15:48.281250000 -0500
@@ -17,7 +17,8 @@
 unix {
 	OBJECTS_DIR	= .obj
 	!contains( LIBS, .*odbc.* ) {
-	    LIBS 	*= -lodbc
+		!cygwin-g++:LIBS *= -lodbc
+	    cygwin-g++:LIBS	*= -lodbc32
 	}
 }
 
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/qmake/Makefile.unix src/qt-x11-free-3.3.8/qmake/Makefile.unix
--- origsrc/qt-x11-free-3.3.8/qmake/Makefile.unix	2006-02-28 04:32:54.000000000 -0600
+++ src/qt-x11-free-3.3.8/qmake/Makefile.unix	2007-10-28 22:15:48.281250000 -0500
@@ -46,7 +46,7 @@
 
 install: qmake
 	[ -d @QT_INSTALL_BINS@ ] || mkdir -p @QT_INSTALL_BINS@
-	-cp -f @BUILD_PATH@/bin/qmake @QT_INSTALL_BINS@
+	-cp -f @BUILD_PATH@/bin/qmake.exe @QT_INSTALL_BINS@
 	[ -d @QT_INSTALL_DATA@ ] || mkdir -p @QT_INSTALL_DATA@
 	-cp -R -f @SOURCE_PATH@/mkspecs @QT_INSTALL_DATA@
 	-ln -s -f @QMAKESPEC@ @QT_INSTALL_DATA@/mkspecs/default
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/qmake/generators/makefile.cpp src/qt-x11-free-3.3.8/qmake/generators/makefile.cpp
--- origsrc/qt-x11-free-3.3.8/qmake/generators/makefile.cpp	2007-02-02 08:01:28.000000000 -0600
+++ src/qt-x11-free-3.3.8/qmake/generators/makefile.cpp	2007-10-28 22:15:48.296875000 -0500
@@ -1378,7 +1378,11 @@
 void
 MakefileGenerator::writePrlFile(QTextStream &t)
 {
-    QString target = project->first("TARGET");
+    QString target;
+	if(!project->isEmpty("QMAKE_CYGWIN_SHLIB"))
+	    target = project->first("L_TARGET");
+	else
+	    target = project->first("TARGET");
     int slsh = target.findRev(Option::dir_sep);
     if(slsh != -1)
 	target = target.right(target.length() - slsh - 1);
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/qmake/generators/unix/unixmake.cpp src/qt-x11-free-3.3.8/qmake/generators/unix/unixmake.cpp
--- origsrc/qt-x11-free-3.3.8/qmake/generators/unix/unixmake.cpp	2007-02-02 08:01:27.000000000 -0600
+++ src/qt-x11-free-3.3.8/qmake/generators/unix/unixmake.cpp	2007-10-28 22:15:48.296875000 -0500
@@ -803,15 +803,13 @@
 		uninst.append("\n\t");
 	    uninst.append("-$(DEL_FILE) \"" + dst_pc + "\"");
 	}
-	if ( project->isEmpty("QMAKE_CYGWIN_SHLIB") ) {
 	    if ( !project->isActiveConfig("staticlib") && !project->isActiveConfig("plugin") ) {
-		if ( project->isEmpty("QMAKE_HPUX_SHLIB") ) {
+		if ( project->isEmpty("QMAKE_HPUX_SHLIB") && project->isEmpty("QMAKE_CYGWIN_SHLIB") ) {
 		    links << "$(TARGET0)" << "$(TARGET1)" << "$(TARGET2)";
 		} else {
 		    links << "$(TARGET0)";
 	        }
 	    }
-	}
     }
 
     if(!resource && project->isActiveConfig("compile_libtool")) {
@@ -865,7 +863,10 @@
 		    if(lslash != -1)
 			link = link.right(link.length() - (lslash + 1));
 		    QString dst_link = root + targetdir + link;
-		    ret += "\n\t-$(SYMLINK) \"$(TARGET)\" \"" + dst_link + "\"";
+            if(!project->isEmpty("QMAKE_CYGWIN_SHLIB"))
+                ret += "\n\t-$(INSTALL_FILE) \"" + destdir + "$(TARGET0)\" \"" + dst_link + "\"";
+            else
+		        ret += "\n\t-$(SYMLINK) \"$(TARGET)\" \"" + dst_link + "\"";
 		    if(!uninst.isEmpty())
 			uninst.append("\n\t");
 		    uninst.append("-$(DEL_FILE) \"" + dst_link + "\"");
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/qmake/generators/unix/unixmake2.cpp src/qt-x11-free-3.3.8/qmake/generators/unix/unixmake2.cpp
--- origsrc/qt-x11-free-3.3.8/qmake/generators/unix/unixmake2.cpp	2007-02-02 08:01:27.000000000 -0600
+++ src/qt-x11-free-3.3.8/qmake/generators/unix/unixmake2.cpp	2007-10-28 22:15:48.312500000 -0500
@@ -294,7 +294,7 @@
 	t << "TARGETD   = " << var("TARGET") << endl;
     } else if (!project->isActiveConfig("staticlib") && project->variables()["QMAKE_APP_FLAG"].isEmpty()) {
 	t << "TARGETA	= " << var("TARGETA") << endl;
-	if (project->isEmpty("QMAKE_HPUX_SHLIB")) {
+	if (project->isEmpty("QMAKE_HPUX_SHLIB") && project->isEmpty("QMAKE_CYGWIN_SHLIB") ) {
 	    t << "TARGETD	= " << var("TARGET_x.y.z") << endl;
 	    t << "TARGET0	= " << var("TARGET_") << endl;
 	    t << "TARGET1	= " << var("TARGET_x") << endl;
@@ -303,7 +303,7 @@
 	    t << "TARGETD	= " << var("TARGET_x") << endl;
 	    t << "TARGET0	= " << var("TARGET_") << endl;
 	}
-    }
+	}
     writeExtraVariables(t);
     t << endl;
 
@@ -545,6 +545,7 @@
 	}
 	if(!destdir.isEmpty())
 	    t << "\n\t" << "test -d " << destdir << " || mkdir -p " << destdir;
+
 	if(!project->isEmpty("QMAKE_PRE_LINK"))
 	    t << "\n\t" << var("QMAKE_PRE_LINK");
 
@@ -561,6 +562,15 @@
 	    if(!project->isEmpty("QMAKE_POST_LINK"))
 		t << "\n\t" << var("QMAKE_POST_LINK") << "\n\t";
 	    t << endl << endl;
+	} else if(!project->isEmpty("QMAKE_CYGWIN_SHLIB")) {
+	    t << "\n\t"
+	      << "-$(DEL_FILE) $(TARGET) $(TARGET0)" << "\n\t"
+	      << var("QMAKE_LINK_SHLIB_CMD") << "\n\t";
+	    if(!destdir.isEmpty())
+		t  << "\n\t"
+		   << "-$(DEL_FILE) " << var("DESTDIR") << "$(TARGET)\n\t"
+		   << "-$(DEL_FILE) " << var("DESTDIR") << "$(TARGET0)\n\t"
+		   << "-$(MOVE) $(TARGET) $(TARGET0) " << var("DESTDIR");
 	} else if(project->isEmpty("QMAKE_HPUX_SHLIB")) {
 	    t << "\n\t"
 	      << "-$(DEL_FILE) $(TARGET) $(TARGET0) $(TARGET1) $(TARGET2)" << "\n\t"
@@ -568,13 +578,14 @@
 	    t << varGlue("QMAKE_LN_SHLIB","-"," "," $(TARGET) $(TARGET0)")  << "\n\t"
 	      << varGlue("QMAKE_LN_SHLIB","-"," "," $(TARGET) $(TARGET1)") << "\n\t"
 	      << varGlue("QMAKE_LN_SHLIB","-"," "," $(TARGET) $(TARGET2)");
-	    if(!destdir.isEmpty())
+        if(!destdir.isEmpty())
 		t << "\n\t"
 		  << "-$(DEL_FILE) " << var("DESTDIR") << "$(TARGET)\n\t"
 		  << "-$(DEL_FILE) " << var("DESTDIR") << "$(TARGET0)\n\t"
 		  << "-$(DEL_FILE) " << var("DESTDIR") << "$(TARGET1)\n\t"
 		  << "-$(DEL_FILE) " << var("DESTDIR") << "$(TARGET2)\n\t"
 		  << "-$(MOVE) $(TARGET) $(TARGET0) $(TARGET1) $(TARGET2) " << var("DESTDIR");
+
 	    if(!project->isEmpty("QMAKE_POST_LINK"))
 		t << "\n\t" << var("QMAKE_POST_LINK");
 	    t << endl << endl;
@@ -876,10 +887,17 @@
     else
 	t << "\t-$(DEL_FILE) " << destdir << "$(TARGET)" << " " << "$(TARGET)" << "\n";
     if(!project->isActiveConfig("staticlib") && project->variables()["QMAKE_APP_FLAG"].isEmpty() &&
-       !project->isActiveConfig("plugin") && !project->isActiveConfig("compile_libtool"))
-	t << "\t-$(DEL_FILE) " << destdir << "$(TARGET0) " << destdir << "$(TARGET1) "
-	  << destdir << "$(TARGET2) $(TARGETA)" << "\n";
-    t << endl << endl;
+       !project->isActiveConfig("plugin") && !project->isActiveConfig("compile_libtool")) {
+	if (!project->isEmpty("QMAKE_CYGWIN_SHLIB")) {
+	    t << "\t-$(DEL_FILE) " << destdir << "$(TARGET) " << destdir << "$(TARGET0) "
+          << destdir << "$(TARGETA)" << "\n";
+        t << endl << endl;
+	} else {
+	    t << "\t-$(DEL_FILE) " << destdir << "$(TARGET0) " << destdir << "$(TARGET1) "
+	      << destdir << "$(TARGET2) $(TARGETA)" << "\n";
+        t << endl << endl;
+    }
+    }
 
     if(doPrecompiledHeaders() && !project->isEmpty("PRECOMPILED_HEADER") ) {
 	QString precomph = fileFixify(project->first("PRECOMPILED_HEADER"));
@@ -1201,7 +1219,7 @@
 #endif
 	project->variables()["TARGET"].first().prepend(project->first("DESTDIR"));
        if ( !project->variables()["QMAKE_CYGWIN_EXE"].isEmpty() )
-	    project->variables()["TARGET_EXT"].append(".exe");
+	    project->variables()["TARGET"].first() += ".exe";
     } else if ( project->isActiveConfig("staticlib") ) {
 	project->variables()["TARGET"].first().prepend("lib");
 	project->variables()["TARGET"].first() += ".a";
@@ -1273,6 +1291,15 @@
 							    project->first("VER_PAT"));
 	    }
 	    project->variables()["TARGET"] = project->variables()["TARGET_x.y.z"];
+	} else if ( !project->isEmpty("QMAKE_CYGWIN_SHLIB")) {
+		project->variables()["TARGET_x"].append("cyg" + project->first("TARGET") + 
+							"-" + project->first("VER_MAJ") + "." +
+							project->first("QMAKE_EXTENSION_SHLIB"));
+		project->variables()["TARGET_"].append("lib" + project->first("TARGET") + 
+							  "." + project->first("QMAKE_EXTENSION_SHLIB") + ".a");
+		project->variables()["L_TARGET"].append("lib" + project->first("TARGET") + 
+                                "." + project->first("QMAKE_EXTENSION_SHLIB"));
+		project->variables()["TARGET"] = project->variables()["TARGET_x"];
 	} else {
 	    project->variables()["TARGET_"].append("lib" + project->first("TARGET") + "." +
 						   project->first("QMAKE_EXTENSION_SHLIB"));
@@ -1319,8 +1346,11 @@
 	    } else {
 		if(!project->variables()["TARGET_x"].isEmpty() )
 		    project->variables()["QMAKE_LFLAGS_SONAME"].first() += project->first("TARGET_x");
-	    }
+		}
 	}
+    if(!project->variables()["QMAKE_CYGWIN_SHLIB"].isEmpty())
+        project->variables()["QMAKE_LFLAGS_SONAME"].append("-Wl,--out-implib,$(TARGET0)");
+
 	if ( project->variables()["QMAKE_LINK_SHLIB_CMD"].isEmpty() )
 	    project->variables()["QMAKE_LINK_SHLIB_CMD"].append(
 		"$(LINK) $(LFLAGS) -o $(TARGET) $(OBJECTS) $(OBJMOC) $(LIBS) $(OBJCOMP)");
@@ -1401,7 +1431,11 @@
 QString
 UnixMakefileGenerator::libtoolFileName()
 {
-    QString ret = var("TARGET");
+    QString ret;
+    if(!project->isEmpty("QMAKE_CYGWIN_SHLIB"))
+	    ret = var("L_TARGET");
+	else
+	    ret = var("TARGET");
     int slsh = ret.findRev(Option::dir_sep);
     if(slsh != -1)
 	ret = ret.right(ret.length() - slsh);
@@ -1441,9 +1475,14 @@
     if(project->isActiveConfig("plugin")) {
 	t << var("TARGET");
     } else {
-    	if (project->isEmpty("QMAKE_HPUX_SHLIB"))
-	    t << var("TARGET_x.y.z") << " ";
-    	t << var("TARGET_x") << " " << var("TARGET_");
+        if (!project->isEmpty("QMAKE_CYGWIN_SHLIB")) {
+            t << var("TARGET_");
+        } else {
+            if (project->isEmpty("QMAKE_HPUX_SHLIB")) {
+            t << var("TARGET_x.y.z") << " ";
+            }
+            t << var("TARGET_x") << " " << var("TARGET_");
+        }
     }
     t << "'\n\n";
 
@@ -1486,7 +1525,11 @@
 QString
 UnixMakefileGenerator::pkgConfigFileName()
 {
-    QString ret = var("TARGET");
+    QString ret;
+    if(!project->isEmpty("QMAKE_CYGWIN_SHLIB"))
+	    ret = var("L_TARGET");
+	else
+	    ret = var("TARGET");
     int slsh = ret.findRev(Option::dir_sep);
     if(slsh != -1)
 	ret = ret.right(ret.length() - slsh);
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/src/kernel/qapplication.cpp src/qt-x11-free-3.3.8/src/kernel/qapplication.cpp
--- origsrc/qt-x11-free-3.3.8/src/kernel/qapplication.cpp	2007-02-02 08:01:16.000000000 -0600
+++ src/qt-x11-free-3.3.8/src/kernel/qapplication.cpp	2007-10-28 22:15:48.312500000 -0500
@@ -2890,7 +2890,7 @@
   of Qt only.
 */
 
-#if defined(Q_OS_CYGWIN)
+#if defined(Q_OS_WIN32)
 Qt::WindowsVersion QApplication::winVersion()
 {
     return qt_winver;
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/src/moc/moc.y src/qt-x11-free-3.3.8/src/moc/moc.y
--- origsrc/qt-x11-free-3.3.8/src/moc/moc.y	2007-02-02 08:01:02.000000000 -0600
+++ src/qt-x11-free-3.3.8/src/moc/moc.y	2007-10-28 22:15:48.328125000 -0500
@@ -2359,7 +2359,7 @@
 	bool hasReturnValue = f->type != "void" && (validUType( f->type ) || isVariantType( f->type) );
 
 	if ( hasReturnValue || !f->args->isEmpty() ) {
-	    fprintf( out, "    static const QUParameter param_%s_%d[] = {\n", functype, list->at() );
+	    fprintf( out, "    static QUParameter param_%s_%d[] = {\n", functype, list->at() );
 	    if ( hasReturnValue ) {
 		if ( validUType( f->type ) )
 		    fprintf( out, "\t{ 0, &static_QUType_%s, %s, QUParameter::Out }", uType(f->type).data(), uTypeExtra(f->type).data() );
@@ -2387,7 +2387,7 @@
 	    fprintf( out, "\n    };\n");
 	}
 
-	fprintf( out, "    static const QUMethod %s_%d = {", functype, list->at() );
+	fprintf( out, "    static QUMethod %s_%d = {", functype, list->at() );
 	int n = f->args->count();
 	if ( hasReturnValue )
 	    n++;
@@ -2415,7 +2415,7 @@
 	f->signature += ")";
     }
     if ( list->count() ) {
-	fprintf(out,"    static const QMetaData %s_tbl[] = {\n", functype );
+	fprintf(out,"    static QMetaData %s_tbl[] = {\n", functype );
 	f = list->first();
 	while ( f ) {
 	    fprintf( out, "\t{ \"%s\",", f->signature.data() );
@@ -2462,7 +2462,7 @@
     fprintf( out, "#ifndef QT_NO_PROPERTIES\n" );
     int i = 0;
     for ( QPtrListIterator<Enum> it( g->enums ); it.current(); ++it, ++i ) {
-	fprintf( out, "    static const QMetaEnum::Item enum_%i[] = {\n", i );
+	fprintf( out, "    static QMetaEnum::Item enum_%i[] = {\n", i );
 	int k = 0;
 	for( QStrListIterator eit( *it.current() ); eit.current(); ++eit, ++k ) {
 	    if ( k )
@@ -2471,7 +2471,7 @@
 	}
 	fprintf( out, "\n    };\n" );
     }
-    fprintf( out, "    static const QMetaEnum enum_tbl[] = {\n" );
+    fprintf( out, "    static QMetaEnum enum_tbl[] = {\n" );
     i = 0;
     for ( QPtrListIterator<Enum> it2( g->enums ); it2.current(); ++it2, ++i ) {
 	if ( i )
@@ -2734,7 +2734,7 @@
 
 	fprintf( out, "#ifndef QT_NO_PROPERTIES\n" );
 
-	fprintf( out, "    static const QMetaProperty props_tbl[%d] = {\n ", g->props.count() );
+	fprintf( out, "    static QMetaProperty props_tbl[%d] = {\n ", g->props.count() );
 	for( QPtrListIterator<Property> it( g->props ); it.current(); ++it ) {
 
 	    fprintf( out, "\t{ \"%s\",\"%s\", ", it.current()->type.data(), it.current()->name.data() );
@@ -2814,7 +2814,7 @@
 	moc_err("The declaration of the class \"%s\" contains class infos"
 		" but no Q_OBJECT macro.", g->className.data());
 
-    fprintf( out, "    static const QClassInfo classinfo_tbl[] = {\n" );
+    fprintf( out, "    static QClassInfo classinfo_tbl[] = {\n" );
     int i = 0;
     for( QPtrListIterator<ClassInfo> it( g->infos ); it.current(); ++it, ++i ) {
 	if ( i )
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/src/network/qdns.cpp src/qt-x11-free-3.3.8/src/network/qdns.cpp
--- origsrc/qt-x11-free-3.3.8/src/network/qdns.cpp	2007-02-02 08:01:09.000000000 -0600
+++ src/qt-x11-free-3.3.8/src/network/qdns.cpp	2007-10-28 22:15:48.343750000 -0500
@@ -2274,7 +2274,7 @@
 }
 #endif
 
-#if defined(Q_OS_WIN32) || defined(Q_OS_CYGWIN)
+#if defined(Q_OS_WIN32)
 
 #if defined(Q_DNS_SYNCHRONOUS)
 void QDns::doSynchronousLookup()
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/src/sql/drivers/odbc/qsql_odbc.cpp src/qt-x11-free-3.3.8/src/sql/drivers/odbc/qsql_odbc.cpp
--- origsrc/qt-x11-free-3.3.8/src/sql/drivers/odbc/qsql_odbc.cpp	2007-01-11 07:38:34.000000000 -0600
+++ src/qt-x11-free-3.3.8/src/sql/drivers/odbc/qsql_odbc.cpp	2007-10-28 22:15:48.343750000 -0500
@@ -40,6 +40,8 @@
 #if defined (Q_OS_WIN32)
 #include <qt_windows.h>
 #include <qapplication.h>
+#elif defined (Q_OS_CYGWIN)
+#undef BOOL
 #endif
 #include <qdatetime.h>
 #include <private/qsqlextension_p.h>
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/src/sql/drivers/odbc/qsql_odbc.h src/qt-x11-free-3.3.8/src/sql/drivers/odbc/qsql_odbc.h
--- origsrc/qt-x11-free-3.3.8/src/sql/drivers/odbc/qsql_odbc.h	2007-01-11 07:38:34.000000000 -0600
+++ src/qt-x11-free-3.3.8/src/sql/drivers/odbc/qsql_odbc.h	2007-10-28 22:15:48.343750000 -0500
@@ -48,6 +48,11 @@
 #include <qt_windows.h>
 #endif
 
+#if defined (Q_OS_CYGWIN)
+#define WIN32_LEAN_AND_MEAN
+#include <windows.h>
+#endif
+
 #if defined (Q_OS_MAC)
 // assume we use iodbc on MAC
 // comment next line out if you use a 
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/src/tools/qglobal.cpp src/qt-x11-free-3.3.8/src/tools/qglobal.cpp
--- origsrc/qt-x11-free-3.3.8/src/tools/qglobal.cpp	2007-10-28 22:14:25.828125000 -0500
+++ src/qt-x11-free-3.3.8/src/tools/qglobal.cpp	2007-10-28 22:15:48.359375000 -0500
@@ -247,7 +247,7 @@
     CFRelease(cfmstr);
     return newStr;
 }
-#elif defined(Q_OS_WIN32) || defined(Q_OS_CYGWIN) || defined(Q_OS_TEMP)
+#elif defined(Q_OS_WIN32) || defined(Q_OS_TEMP)
 bool qt_winunicode;
 # ifdef Q_OS_TEMP
   DWORD qt_cever = 0;
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/src/tools/qgpluginmanager.cpp src/qt-x11-free-3.3.8/src/tools/qgpluginmanager.cpp
--- origsrc/qt-x11-free-3.3.8/src/tools/qgpluginmanager.cpp	2007-02-02 08:01:04.000000000 -0600
+++ src/qt-x11-free-3.3.8/src/tools/qgpluginmanager.cpp	2007-10-28 22:15:48.359375000 -0500
@@ -314,7 +314,7 @@
     if ( !enabled() || !QDir( path ).exists( ".", TRUE ) )
 	return;
 
-#if defined(Q_OS_WIN32)
+#if defined(Q_OS_WIN32) || defined(Q_OS_CYGWIN)
     QString filter = "*.dll";
 #elif defined(Q_OS_MACX)
     QString filter = "*.dylib; *.so; *.bundle";
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/src/tools/qlibrary.cpp src/qt-x11-free-3.3.8/src/tools/qlibrary.cpp
--- origsrc/qt-x11-free-3.3.8/src/tools/qlibrary.cpp	2007-02-02 08:01:04.000000000 -0600
+++ src/qt-x11-free-3.3.8/src/tools/qlibrary.cpp	2007-10-28 22:15:48.359375000 -0500
@@ -395,7 +395,7 @@
 
     QString filename = libfile;
 
-#if defined(Q_WS_WIN)
+#if defined(Q_WS_WIN) || defined(Q_OS_CYGWIN)
     if ( filename.findRev( '.' ) <= filename.findRev( '/' ) )
 	filename += ".dll";
 #else
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x libqt-mt.la -x 'moc_lex.*' -x 'moc_yacc.*' origsrc/qt-x11-free-3.3.8/tools/designer/plugins/glade/glade2ui.cpp src/qt-x11-free-3.3.8/tools/designer/plugins/glade/glade2ui.cpp
--- origsrc/qt-x11-free-3.3.8/tools/designer/plugins/glade/glade2ui.cpp	2007-01-11 07:47:11.000000000 -0600
+++ src/qt-x11-free-3.3.8/tools/designer/plugins/glade/glade2ui.cpp	2007-10-28 22:15:48.375000000 -0500
@@ -40,7 +40,7 @@
 
 #include <ctype.h>
 
-static const struct {
+static struct {
     const char *gtkName;
     const char *qtName;
 } classNames[] = {
@@ -94,7 +94,7 @@
     { 0, 0 }
 };
 
-static const struct {
+static struct {
     const char *name;
     const char *menuText;
 } stockMenuItems[] = {
@@ -133,7 +133,7 @@
     { 0, 0 }
 };
 
-static const struct {
+static struct {
     const char *gtkName;
     int qtValue;
 } keys[] = {
